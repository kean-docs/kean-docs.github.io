{"seeAlsoSections":[{"title":"Customization","identifiers":["doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/image-processing","doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/image-formats","doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/ImagePipelineDelegate","doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/ImageTaskDelegate"],"generated":true}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoader"},{"type":"text","text":" uses "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/reference\/foundation\/nsurlsession"},{"type":"text","text":" to load image data. The data is cached on disk using "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/reference\/foundation\/urlcache"},{"type":"text","text":", which by default is initialized with a memory capacity of 0 MB (Nuke only stores processed images in memory) and disk capacity of 150 MB."}]},{"type":"aside","style":"tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"See "},{"type":"reference","isActive":true,"identifier":"https:\/\/kean.blog\/post\/image-caching"},{"type":"text","text":" to learn more about HTTP cache. To learn more about caching in Nuke and how to configure it, see "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/caching"},{"type":"text","text":"."}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"URLSession"},{"type":"text","text":" class natively supports the following URL schemes: "},{"type":"codeVoice","code":"data"},{"type":"text","text":", "},{"type":"codeVoice","code":"file"},{"type":"text","text":", "},{"type":"codeVoice","code":"ftp"},{"type":"text","text":", "},{"type":"codeVoice","code":"http"},{"type":"text","text":", and "},{"type":"codeVoice","code":"https"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The default "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoader"},{"type":"text","text":" works great for most situation, but if you need to provide a custom networking layer, you can using a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoading"},{"type":"text","text":" protocol. See also, "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/kean\/Nuke-Alamofire-Plugin"},{"type":"text","text":"."}]},{"anchor":"Resumable-Downloads","level":2,"type":"heading","text":"Resumable Downloads"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If the data task is terminated when the image is partially loaded (either because of a failure or a cancellation), the next load will resume where the previous left off. Resumable downloads require the server to support "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Range_requests"},{"type":"text","text":". Nuke supports both validators: "},{"type":"codeVoice","code":"ETag"},{"type":"text","text":" and "},{"type":"codeVoice","code":"Last-Modified"},{"type":"text","text":". Resumable downloads are enabled by default. You can learn more in "},{"type":"reference","isActive":true,"identifier":"https:\/\/kean.blog\/post\/resumable-downloads"},{"type":"text","text":"."}]},{"anchor":"Custom-Networking-Layer","level":2,"type":"heading","text":"Custom Networking Layer"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you’d like to use Alamofire for networking, it’s easy to do thanks to an "},{"overridingTitleInlineContent":[{"type":"text","text":"Alamofire plugin"}],"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/kean\/Nuke-Alamofire-Plugin","overridingTitle":"Alamofire plugin"},{"type":"text","text":" that allows you to load image data using "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/Alamofire\/Alamofire"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you’d like to use some other networking library or use your custom code, all you need to do is implement the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoading"},{"type":"text","text":" protocol consisting of a single method."}]},{"type":"codeListing","syntax":"swift","code":["\/\/\/ Implements data loading using Alamofire framework.","public class AlamofireDataLoader: Nuke.DataLoading {","    public let session: Alamofire.Session","","    \/\/\/ Initializes the receiver with a given Alamofire.SessionManager.","    \/\/\/ - parameter session: Alamofire.Session.default by default.","    public init(session: Alamofire.Session = Alamofire.Session.default) {","        self.session = session","    }","","    \/\/ MARK: DataLoading","","    \/\/\/ Loads data using Alamofire.SessionManager.","    public func loadData(with request: URLRequest, didReceiveData: @escaping (Data, URLResponse) -> Void, completion: @escaping (Error?) -> Void) -> Cancellable {","        let task = self.session.streamRequest(request)","        task.responseStream { [weak task] stream in","            switch stream.event {","            case let .stream(result):","                switch result {","                case let .success(data):","                    guard let response = task?.response else { return } \/\/ Never nil","                    didReceiveData(data, response)","                }","            case let .complete(response):","                completion(response.error)","            }","        }","        return AnyCancellable { task.cancel() }","    }","}"]}]}],"variants":[{"paths":["\/documentation\/nuke\/loading-data"],"traits":[{"interfaceLanguage":"swift"}]},{"paths":["\/documentation\/nuke\/loading-data"],"traits":[{"interfaceLanguage":"occ"}]}],"identifier":{"url":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/loading-data","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Learn how pipeline loads data."}],"kind":"article","metadata":{"modules":[{"name":"Nuke"}],"role":"collectionGroup","title":"Loading Data"},"hierarchy":{"paths":[["doc:\/\/com.github.kean.nuke\/documentation\/Nuke"]]},"topicSections":[{"title":"Data Loader","identifiers":["doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoading","doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoader","doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/Cancellable"]},{"title":"Monitoring Data Events","identifiers":["doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoaderObserving","doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataTaskEvent"]}],"references":{"https://github.com/kean/Nuke-Alamofire-Plugin":{"title":"Alamofire Plugin","titleInlineContent":[{"type":"text","text":"Alamofire Plugin"}],"type":"link","identifier":"https:\/\/github.com\/kean\/Nuke-Alamofire-Plugin","url":"https:\/\/github.com\/kean\/Nuke-Alamofire-Plugin"},"https://github.com/Alamofire/Alamofire":{"title":"Alamofire.SessionManager","titleInlineContent":[{"type":"text","text":"Alamofire.SessionManager"}],"type":"link","identifier":"https:\/\/github.com\/Alamofire\/Alamofire","url":"https:\/\/github.com\/Alamofire\/Alamofire"},"https://developer.apple.com/reference/foundation/nsurlsession":{"title":"URLSession","titleInlineContent":[{"type":"codeVoice","code":"URLSession"}],"type":"link","identifier":"https:\/\/developer.apple.com\/reference\/foundation\/nsurlsession","url":"https:\/\/developer.apple.com\/reference\/foundation\/nsurlsession"},"doc://com.github.kean.nuke/documentation/Nuke/DataLoaderObserving":{"role":"symbol","title":"DataLoaderObserving","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"DataLoaderObserving"}],"abstract":[{"type":"text","text":"Allows you to tap into internal events of the data loader. Events are"},{"type":"text","text":" "},{"type":"text","text":"delivered on the internal serial operation queue."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoaderObserving","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DataLoaderObserving"}],"url":"\/documentation\/nuke\/dataloaderobserving"},"doc://com.github.kean.nuke/documentation/Nuke/caching":{"role":"collectionGroup","title":"Caching","abstract":[{"type":"text","text":"Learn about cache layers in Nuke and how to configure them."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/caching","kind":"article","type":"topic","url":"\/documentation\/nuke\/caching"},"doc://com.github.kean.nuke/documentation/Nuke/ImageTaskDelegate":{"role":"symbol","title":"ImageTaskDelegate","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ImageTaskDelegate"}],"abstract":[{"type":"text","text":"A protocol that defines methods that image pipeline instances call on their"},{"type":"text","text":" "},{"type":"text","text":"delegates to handle task-level events."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/ImageTaskDelegate","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ImageTaskDelegate"}],"url":"\/documentation\/nuke\/imagetaskdelegate"},"doc://com.github.kean.nuke/documentation/Nuke/ImagePipelineDelegate":{"role":"symbol","title":"ImagePipelineDelegate","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ImagePipelineDelegate"}],"abstract":[{"type":"text","text":"A delegate that allows you to customize the pipeline dynamically on a per-request basis."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/ImagePipelineDelegate","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ImagePipelineDelegate"}],"url":"\/documentation\/nuke\/imagepipelinedelegate"},"https://developer.apple.com/reference/foundation/urlcache":{"title":"URLCache","titleInlineContent":[{"type":"codeVoice","code":"URLCache"}],"type":"link","identifier":"https:\/\/developer.apple.com\/reference\/foundation\/urlcache","url":"https:\/\/developer.apple.com\/reference\/foundation\/urlcache"},"https://kean.blog/post/resumable-downloads":{"title":"“Resumable Downloads”","titleInlineContent":[{"type":"text","text":"“Resumable Downloads”"}],"type":"link","identifier":"https:\/\/kean.blog\/post\/resumable-downloads","url":"https:\/\/kean.blog\/post\/resumable-downloads"},"doc://com.github.kean.nuke/documentation/Nuke":{"role":"collection","title":"Nuke","abstract":[{"type":"text","text":"A powerful image loading system for Apple platforms."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke","kind":"symbol","type":"topic","url":"\/documentation\/nuke"},"doc://com.github.kean.nuke/documentation/Nuke/DataTaskEvent":{"role":"symbol","title":"DataTaskEvent","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"DataTaskEvent"}],"abstract":[{"type":"text","text":"An event send by the data loader."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataTaskEvent","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DataTaskEvent"}],"url":"\/documentation\/nuke\/datataskevent"},"doc://com.github.kean.nuke/documentation/Nuke/image-formats":{"role":"collectionGroup","title":"Image Formats","abstract":[{"type":"text","text":"Learn about image formats supported in Nuke and how to extend them."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/image-formats","kind":"article","type":"topic","url":"\/documentation\/nuke\/image-formats"},"doc://com.github.kean.nuke/documentation/Nuke/image-processing":{"role":"collectionGroup","title":"Image Processing","abstract":[{"type":"text","text":"Learn how to use existing image filters and create custom ones."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/image-processing","kind":"article","type":"topic","url":"\/documentation\/nuke\/image-processing"},"doc://com.github.kean.nuke/documentation/Nuke/DataLoading":{"role":"symbol","title":"DataLoading","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"DataLoading"}],"abstract":[{"type":"text","text":"Fetches original image data."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoading","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DataLoading"}],"url":"\/documentation\/nuke\/dataloading"},"doc://com.github.kean.nuke/documentation/Nuke/Cancellable":{"role":"symbol","title":"Cancellable","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Cancellable"}],"abstract":[{"type":"text","text":"A unit of work that can be cancelled."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/Cancellable","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Cancellable"}],"url":"\/documentation\/nuke\/cancellable"},"https://kean.blog/post/image-caching":{"title":"Image Caching","titleInlineContent":[{"type":"text","text":"Image Caching"}],"type":"link","identifier":"https:\/\/kean.blog\/post\/image-caching","url":"https:\/\/kean.blog\/post\/image-caching"},"doc://com.github.kean.nuke/documentation/Nuke/DataLoader":{"role":"symbol","title":"DataLoader","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"DataLoader"}],"abstract":[{"type":"text","text":"Provides basic networking using "},{"type":"codeVoice","code":"URLSession"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/DataLoader","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DataLoader"}],"url":"\/documentation\/nuke\/dataloader"},"https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests":{"title":"HTTP Range Requests","titleInlineContent":[{"type":"text","text":"HTTP Range Requests"}],"type":"link","identifier":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Range_requests","url":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Range_requests"}},"variantOverrides":[{"patch":[{"op":"replace","path":"\/identifier\/interfaceLanguage","value":"occ"},{"op":"replace","path":"\/topicSections","value":null},{"op":"replace","path":"\/seeAlsoSections","value":[{"title":"Customization","identifiers":["doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/image-processing","doc:\/\/com.github.kean.nuke\/documentation\/Nuke\/image-formats"],"generated":true}]}],"traits":[{"interfaceLanguage":"occ"}]}]}